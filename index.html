cat > index.html <<'EOF'
<!DOCTYPE html>
<html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Web BLE UART Console</title></head>
<body>
  <h1>Web BLE UART Console</h1>
  <button id="connectBtn">Connect</button>
  <button id="sendBtn">Send "Hello"</button>
  <pre id="log" style="white-space:pre-wrap;border:1px solid #ccc;padding:8px;height:200px;overflow:auto;"></pre>
<script>
const SVC="6e400001-b5a3-f393-e0a9-e50e24dcca9e",TX="6e400003-b5a3-f393-e0a9-e50e24dcca9e",RX="6e400002-b5a3-f393-e0a9-e50e24dcca9e";
let rx; const logEl=document.getElementById('log'); const log=(m)=>{logEl.textContent+=m+"\n"; logEl.scrollTop=logEl.scrollHeight;}
document.getElementById('connectBtn').onclick=async()=>{
  try{
    const dev=await navigator.bluetooth.requestDevice({filters:[{services:[SVC]}]});
    const srv=await dev.gatt.connect(); const svc=await srv.getPrimaryService(SVC);
    const tx=await svc.getCharacteristic(TX); rx=await svc.getCharacteristic(RX);
    await tx.startNotifications(); tx.addEventListener('characteristicvaluechanged',e=>log("RX: "+new TextDecoder().decode(e.target.value)));
    log("Connected to "+(dev.name||"device"));
  }catch(e){log("Error: "+e)}
};
document.getElementById('sendBtn').onclick=async()=>{ if(!rx){log("Not connected");return;}
  await rx.writeValue(new TextEncoder().encode("Hello\n")); log("TX: Hello"); };
</script></body></html>
EOF